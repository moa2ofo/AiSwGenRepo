<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UdsComm: pltf/diagnostic.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">UdsComm
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0f0c216b196b7a3b5b9209212a87618a.html">pltf</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">diagnostic.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="diagnostic__priv_8h_source.html">diagnostic_priv.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for diagnostic.c:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="diagnostic_8c__incl.svg" width="363" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="diagnostic_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adeef6dd72bd779ad261090c13a440525" id="r_adeef6dd72bd779ad261090c13a440525"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diagnostic_8c.html#adeef6dd72bd779ad261090c13a440525">LinDiagSendPosResponse</a> (void)</td></tr>
<tr class="separator:adeef6dd72bd779ad261090c13a440525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a1b596d1ff4b5d45331d4d234e100b0" id="r_a7a1b596d1ff4b5d45331d4d234e100b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diagnostic_8c.html#a7a1b596d1ff4b5d45331d4d234e100b0">LinDiagSendNegResponse</a> (uint8_t errorCode)</td></tr>
<tr class="separator:a7a1b596d1ff4b5d45331d4d234e100b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa994a86f133db5dbe1e009caad44e85" id="r_afa994a86f133db5dbe1e009caad44e85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diagnostic_8c.html#afa994a86f133db5dbe1e009caad44e85">ApplLinDiagReadDataById</a> (void)</td></tr>
<tr class="memdesc:afa994a86f133db5dbe1e009caad44e85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle LIN diagnostic service "ReadDataByIdentifier" (0x22).  <br /></td></tr>
<tr class="separator:afa994a86f133db5dbe1e009caad44e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe" id="r_a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diagnostic_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a410b1dc1eee1a3843126538fc0242796" id="r_a410b1dc1eee1a3843126538fc0242796"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diagnostic_8c.html#a410b1dc1eee1a3843126538fc0242796">pbLinDiagBuffer</a> [32]</td></tr>
<tr class="memdesc:a410b1dc1eee1a3843126538fc0242796"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared LIN diagnostic buffer.  <br /></td></tr>
<tr class="separator:a410b1dc1eee1a3843126538fc0242796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e6c1490294f976c8876fb0eeab26f3a" id="r_a8e6c1490294f976c8876fb0eeab26f3a"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diagnostic_8c.html#a8e6c1490294f976c8876fb0eeab26f3a">g_linDiagDataLength</a> = 0</td></tr>
<tr class="memdesc:a8e6c1490294f976c8876fb0eeab26f3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current LIN diagnostic message length.  <br /></td></tr>
<tr class="separator:a8e6c1490294f976c8876fb0eeab26f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="afa994a86f133db5dbe1e009caad44e85" name="afa994a86f133db5dbe1e009caad44e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa994a86f133db5dbe1e009caad44e85">&#9670;&#160;</a></span>ApplLinDiagReadDataById()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ApplLinDiagReadDataById </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle LIN diagnostic service "ReadDataByIdentifier" (0x22). </p>
<p><b>Goal of the function</b></p>
<p>The purpose of this function is to decode the requested DID (Data Identifier) from the LIN diagnostic request buffer, validate the request (target NAD and expected message length), retrieve the DID payload through the configured handler, and finally send either a positive response (with DID + data) or a negative response (with the detected error code).</p>
<p>The processing logic:</p><ul>
<li>Extracts the DID from <code>pbLinDiagBuffer[1]</code> (MSB) and <code>pbLinDiagBuffer[2]</code> (LSB).</li>
<li>Validates that the current request is addressed to the correct NAD.</li>
<li>Validates the received request length (<code>g_linDiagDataLength</code>).</li>
<li>Calls the DID handler dispatcher to:<ul>
<li>determine whether the DID is supported,</li>
<li>fill the response data into the diagnostic buffer starting at <code>pbLinDiagBuffer[3]</code>,</li>
<li>return the number of payload bytes written.</li>
</ul>
</li>
<li>If processing is successful, updates <code>g_linDiagDataLength</code> to <code>payloadLen + 2</code> (DID bytes) and sends a positive response.</li>
<li>Otherwise, sends a negative response using the error code.</li>
</ul>
<dl class="section user"><dt>Interface summary</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Interface   </th><th class="markdownTableHeadCenter">In   </th><th class="markdownTableHeadCenter">Out   </th><th class="markdownTableHeadNone">Data type / Signature   </th><th class="markdownTableHeadCenter">Param   </th><th class="markdownTableHeadRight">Data factor   </th><th class="markdownTableHeadRight">Data offset   </th><th class="markdownTableHeadRight">Data size   </th><th class="markdownTableHeadNone">Data range   </th><th class="markdownTableHeadNone">Data unit    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">pbLinDiagBuffer[1]   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyNone">uint8   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyRight">1   </td><td class="markdownTableBodyRight">0   </td><td class="markdownTableBodyRight">1   </td><td class="markdownTableBodyNone">[0,255]   </td><td class="markdownTableBodyNone">[-]    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">pbLinDiagBuffer[2]   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyNone">uint8   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyRight">1   </td><td class="markdownTableBodyRight">0   </td><td class="markdownTableBodyRight">1   </td><td class="markdownTableBodyNone">[0,255]   </td><td class="markdownTableBodyNone">[-]    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">pbLinDiagBuffer[3..]   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyNone">uint8[]   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyRight">1   </td><td class="markdownTableBodyRight">0   </td><td class="markdownTableBodyRight">N   </td><td class="markdownTableBodyNone">project-defined   </td><td class="markdownTableBodyNone">[-]    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">g_linDiagDataLength   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyNone">uint16   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyRight">1   </td><td class="markdownTableBodyRight">0   </td><td class="markdownTableBodyRight">1   </td><td class="markdownTableBodyNone">[0,65535]   </td><td class="markdownTableBodyNone">[byte]    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="diagnostic__cfg_8c.html#ad158936d88b7d913d4ba0f10bae535a2">checkCurrentNad()</a>   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyNone">void(uint8 nad, Std_ReturnType *result)   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">[-]    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="diagnostic__cfg_8c.html#a6c372cd2d55d665a5a86e8eedc5ac715">checkMsgDataLength()</a>   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyNone">void(uint16 len, Std_ReturnType *result)   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">[-]    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="diagnostic__cfg_8c.html#a975b0982a9f89e799a8a951d119b5805">getHandlersForReadDataById()</a>   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyNone"><a class="el" href="diagnostic__cfg_8h.html#a7ba1ab0e3cce347ba1de27f426253160">Std_ReturnType(uint8, uint16, uint8*, Std_ReturnType*, uint8*)</a>   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyNone">E_OK/E_NOT_OK   </td><td class="markdownTableBodyNone">[-]    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="diagnostic_8c.html#adeef6dd72bd779ad261090c13a440525">LinDiagSendPosResponse()</a>   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyNone">void(void)   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyNone">-   </td><td class="markdownTableBodyNone">[-]    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="diagnostic_8c.html#a7a1b596d1ff4b5d45331d4d234e100b0">LinDiagSendNegResponse()</a>   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyNone">void(uint8 errorCode)   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyRight">-   </td><td class="markdownTableBodyNone">-   </td><td class="markdownTableBodyNone">[-]   </td></tr>
</table>
<dl class="section user"><dt>Activity diagram (PlantUML)</dt><dd></dd></dl>
<div class="plantumlgraph">
<object type="image/svg+xml" data="inline_umlgraph_1.svg"></object>
</div>
<dl class="section return"><dt>Returns</dt><dd>None. The function sends a LIN diagnostic response and may update <code>g_linDiagDataLength</code> and the payload area <code>pbLinDiagBuffer[3..]</code> depending on the outcome. </dd></dl>

<p class="definition">Definition at line <a class="el" href="diagnostic_8c_source.html#l00021">21</a> of file <a class="el" href="diagnostic_8c_source.html">diagnostic.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   22</span>{</div>
<div class="line"><span class="lineno">   23</span>  <span class="keyword">const</span> uint16_t l_did_cu16 = ((uint16_t)(<a class="code hl_variable" href="diagnostic_8c.html#a410b1dc1eee1a3843126538fc0242796">pbLinDiagBuffer</a>[1] &lt;&lt; 8) &amp; 0xFF00) |</div>
<div class="line"><span class="lineno">   24</span>                              ((uint16_t)<a class="code hl_variable" href="diagnostic_8c.html#a410b1dc1eee1a3843126538fc0242796">pbLinDiagBuffer</a>[2] &amp; 0x00FF);</div>
<div class="line"><span class="lineno">   25</span>  <a class="code hl_typedef" href="diagnostic__cfg_8h.html#a7ba1ab0e3cce347ba1de27f426253160">Std_ReturnType</a> l_result_ = <a class="code hl_define" href="diagnostic__cfg_8h.html#a1e7cc741c56207a8872ea58373276925">E_OK</a>;</div>
<div class="line"><span class="lineno">   26</span>  uint8_t l_errCode_u8 = 0;</div>
<div class="line"><span class="lineno">   27</span>  uint8_t * <span class="keyword">const</span> l_diagBuf_pu8 = &amp;<a class="code hl_variable" href="diagnostic_8c.html#a410b1dc1eee1a3843126538fc0242796">pbLinDiagBuffer</a>[3];</div>
<div class="line"><span class="lineno">   28</span>  uint8_t l_diagBufSize_u8 = 0;</div>
<div class="line"><span class="lineno">   29</span>  <a class="code hl_typedef" href="diagnostic__cfg_8h.html#a7ba1ab0e3cce347ba1de27f426253160">Std_ReturnType</a> l_didSupported_ = <a class="code hl_define" href="diagnostic__cfg_8h.html#a1e7cc741c56207a8872ea58373276925">E_OK</a>;</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>  <a class="code hl_function" href="diagnostic__cfg_8c.html#ad158936d88b7d913d4ba0f10bae535a2">checkCurrentNad</a>((uint8_t)0u, &amp;l_result_);</div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="diagnostic__cfg_8h.html#a1e7cc741c56207a8872ea58373276925">E_OK</a> == l_result_) {</div>
<div class="line"><span class="lineno">   34</span>    <a class="code hl_function" href="diagnostic__cfg_8c.html#a6c372cd2d55d665a5a86e8eedc5ac715">checkMsgDataLength</a>(<a class="code hl_variable" href="diagnostic_8c.html#a8e6c1490294f976c8876fb0eeab26f3a">g_linDiagDataLength</a>, &amp;l_result_);</div>
<div class="line"><span class="lineno">   35</span>  }</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="diagnostic__cfg_8h.html#a1e7cc741c56207a8872ea58373276925">E_OK</a> == l_result_) {</div>
<div class="line"><span class="lineno">   38</span>    l_result_ = <a class="code hl_function" href="diagnostic__cfg_8c.html#a975b0982a9f89e799a8a951d119b5805">getHandlersForReadDataById</a>(l_errCode_u8, l_did_cu16, &amp;l_diagBufSize_u8, &amp;l_didSupported_, l_diagBuf_pu8);</div>
<div class="line"><span class="lineno">   39</span>  }</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span>  <span class="keywordflow">switch</span> (l_result_)</div>
<div class="line"><span class="lineno">   42</span>  {</div>
<div class="line"><span class="lineno">   43</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="diagnostic__cfg_8h.html#a1e7cc741c56207a8872ea58373276925">E_OK</a>:</div>
<div class="line"><span class="lineno">   44</span>      <a class="code hl_variable" href="diagnostic_8c.html#a8e6c1490294f976c8876fb0eeab26f3a">g_linDiagDataLength</a> = l_diagBufSize_u8 + 2u;</div>
<div class="line"><span class="lineno">   45</span>      <a class="code hl_function" href="diagnostic_8c.html#adeef6dd72bd779ad261090c13a440525">LinDiagSendPosResponse</a>();</div>
<div class="line"><span class="lineno">   46</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">   48</span>      <a class="code hl_function" href="diagnostic_8c.html#a7a1b596d1ff4b5d45331d4d234e100b0">LinDiagSendNegResponse</a>(l_errCode_u8);</div>
<div class="line"><span class="lineno">   49</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   50</span>  }</div>
<div class="line"><span class="lineno">   51</span>}</div>
<div class="ttc" id="adiagnostic_8c_html_a410b1dc1eee1a3843126538fc0242796"><div class="ttname"><a href="diagnostic_8c.html#a410b1dc1eee1a3843126538fc0242796">pbLinDiagBuffer</a></div><div class="ttdeci">uint8_t pbLinDiagBuffer[32]</div><div class="ttdoc">Shared LIN diagnostic buffer.</div><div class="ttdef"><b>Definition</b> <a href="diagnostic_8c_source.html#l00004">diagnostic.c:4</a></div></div>
<div class="ttc" id="adiagnostic_8c_html_a7a1b596d1ff4b5d45331d4d234e100b0"><div class="ttname"><a href="diagnostic_8c.html#a7a1b596d1ff4b5d45331d4d234e100b0">LinDiagSendNegResponse</a></div><div class="ttdeci">void LinDiagSendNegResponse(uint8_t errorCode)</div><div class="ttdef"><b>Definition</b> <a href="diagnostic_8c_source.html#l00015">diagnostic.c:15</a></div></div>
<div class="ttc" id="adiagnostic_8c_html_a8e6c1490294f976c8876fb0eeab26f3a"><div class="ttname"><a href="diagnostic_8c.html#a8e6c1490294f976c8876fb0eeab26f3a">g_linDiagDataLength</a></div><div class="ttdeci">uint16_t g_linDiagDataLength</div><div class="ttdoc">Current LIN diagnostic message length.</div><div class="ttdef"><b>Definition</b> <a href="diagnostic_8c_source.html#l00006">diagnostic.c:6</a></div></div>
<div class="ttc" id="adiagnostic_8c_html_adeef6dd72bd779ad261090c13a440525"><div class="ttname"><a href="diagnostic_8c.html#adeef6dd72bd779ad261090c13a440525">LinDiagSendPosResponse</a></div><div class="ttdeci">void LinDiagSendPosResponse(void)</div><div class="ttdef"><b>Definition</b> <a href="diagnostic_8c_source.html#l00009">diagnostic.c:9</a></div></div>
<div class="ttc" id="adiagnostic__cfg_8c_html_a6c372cd2d55d665a5a86e8eedc5ac715"><div class="ttname"><a href="diagnostic__cfg_8c.html#a6c372cd2d55d665a5a86e8eedc5ac715">checkMsgDataLength</a></div><div class="ttdeci">void checkMsgDataLength(uint16_t dataLength, Std_ReturnType *result)</div><div class="ttdef"><b>Definition</b> <a href="diagnostic__cfg_8c_source.html#l00013">diagnostic_cfg.c:13</a></div></div>
<div class="ttc" id="adiagnostic__cfg_8c_html_a975b0982a9f89e799a8a951d119b5805"><div class="ttname"><a href="diagnostic__cfg_8c.html#a975b0982a9f89e799a8a951d119b5805">getHandlersForReadDataById</a></div><div class="ttdeci">Std_ReturnType getHandlersForReadDataById(uint8 l_errCode_u8, uint16 l_did_cu16, uint8 *l_diagBufSize_u8, Std_ReturnType *l_didSupported_, uint8 *l_diagBuf_pu8)</div><div class="ttdef"><b>Definition</b> <a href="diagnostic__cfg_8c_source.html#l00043">diagnostic_cfg.c:43</a></div></div>
<div class="ttc" id="adiagnostic__cfg_8c_html_ad158936d88b7d913d4ba0f10bae535a2"><div class="ttname"><a href="diagnostic__cfg_8c.html#ad158936d88b7d913d4ba0f10bae535a2">checkCurrentNad</a></div><div class="ttdeci">void checkCurrentNad(uint8 currentNad, Std_ReturnType *result)</div><div class="ttdef"><b>Definition</b> <a href="diagnostic__cfg_8c_source.html#l00006">diagnostic_cfg.c:6</a></div></div>
<div class="ttc" id="adiagnostic__cfg_8h_html_a1e7cc741c56207a8872ea58373276925"><div class="ttname"><a href="diagnostic__cfg_8h.html#a1e7cc741c56207a8872ea58373276925">E_OK</a></div><div class="ttdeci">#define E_OK</div><div class="ttdef"><b>Definition</b> <a href="diagnostic__cfg_8h_source.html#l00011">diagnostic_cfg.h:11</a></div></div>
<div class="ttc" id="adiagnostic__cfg_8h_html_a7ba1ab0e3cce347ba1de27f426253160"><div class="ttname"><a href="diagnostic__cfg_8h.html#a7ba1ab0e3cce347ba1de27f426253160">Std_ReturnType</a></div><div class="ttdeci">uint8_t Std_ReturnType</div><div class="ttdef"><b>Definition</b> <a href="diagnostic__cfg_8h_source.html#l00009">diagnostic_cfg.h:9</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="diagnostic_8c_afa994a86f133db5dbe1e009caad44e85_cgraph.svg" width="100%" height="475"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a7a1b596d1ff4b5d45331d4d234e100b0" name="a7a1b596d1ff4b5d45331d4d234e100b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a1b596d1ff4b5d45331d4d234e100b0">&#9670;&#160;</a></span>LinDiagSendNegResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LinDiagSendNegResponse </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>errorCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diagnostic_8c_source.html#l00015">15</a> of file <a class="el" href="diagnostic_8c_source.html">diagnostic.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   16</span>{</div>
<div class="line"><span class="lineno">   17</span>    <span class="comment">/* Implementation stub: send negative response via LIN */</span></div>
<div class="line"><span class="lineno">   18</span>    (void)errorCode;</div>
<div class="line"><span class="lineno">   19</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="diagnostic_8c_a7a1b596d1ff4b5d45331d4d234e100b0_icgraph.svg" width="444" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="adeef6dd72bd779ad261090c13a440525" name="adeef6dd72bd779ad261090c13a440525"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeef6dd72bd779ad261090c13a440525">&#9670;&#160;</a></span>LinDiagSendPosResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LinDiagSendPosResponse </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diagnostic_8c_source.html#l00009">9</a> of file <a class="el" href="diagnostic_8c_source.html">diagnostic.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   10</span>{</div>
<div class="line"><span class="lineno">   11</span>    <span class="comment">/* Implementation stub: send positive response via LIN */</span></div>
<div class="line"><span class="lineno">   12</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="diagnostic_8c_adeef6dd72bd779ad261090c13a440525_icgraph.svg" width="442" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a840291bc02cba5474a4cb46a9b9566fe" name="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diagnostic_8c_source.html#l00054">54</a> of file <a class="el" href="diagnostic_8c_source.html">diagnostic.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>{</div>
<div class="line"><span class="lineno">   56</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   57</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8e6c1490294f976c8876fb0eeab26f3a" name="a8e6c1490294f976c8876fb0eeab26f3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e6c1490294f976c8876fb0eeab26f3a">&#9670;&#160;</a></span>g_linDiagDataLength</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t g_linDiagDataLength = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current LIN diagnostic message length. </p>
<p>Length in bytes of the active diagnostic message associated with <code>pbLinDiagBuffer</code>. Depending on the current phase, it may represent:</p><ul>
<li>received request length before service execution, or</li>
<li>response length after service execution.</li>
</ul>
<dl class="section user"><dt>Interface summary</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Interface   </th><th class="markdownTableHeadCenter">In   </th><th class="markdownTableHeadCenter">Out   </th><th class="markdownTableHeadNone">Data type   </th><th class="markdownTableHeadCenter">Param   </th><th class="markdownTableHeadRight">Data factor   </th><th class="markdownTableHeadRight">Data offset   </th><th class="markdownTableHeadRight">Data size   </th><th class="markdownTableHeadNone">Data range   </th><th class="markdownTableHeadNone">Data unit    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">g_linDiagDataLength   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyNone">uint16   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyRight">1   </td><td class="markdownTableBodyRight">0   </td><td class="markdownTableBodyRight">1   </td><td class="markdownTableBodyNone">[0,65535]   </td><td class="markdownTableBodyNone">[byte]   </td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="diagnostic_8c_source.html#l00006">6</a> of file <a class="el" href="diagnostic_8c_source.html">diagnostic.c</a>.</p>

</div>
</div>
<a id="a410b1dc1eee1a3843126538fc0242796" name="a410b1dc1eee1a3843126538fc0242796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a410b1dc1eee1a3843126538fc0242796">&#9670;&#160;</a></span>pbLinDiagBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t pbLinDiagBuffer[32]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shared LIN diagnostic buffer. </p>
<p>Fixed-size buffer used by the LIN diagnostic layer for both requests and responses. The layout is service-dependent; for service 0x22 the DID is expected at:</p><ul>
<li><code>pbLinDiagBuffer[1]</code> = DID MSB</li>
<li><code>pbLinDiagBuffer[2]</code> = DID LSB</li>
<li><code>pbLinDiagBuffer[3..]</code> = response payload area</li>
</ul>
<dl class="section user"><dt>Interface summary</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Interface   </th><th class="markdownTableHeadCenter">In   </th><th class="markdownTableHeadCenter">Out   </th><th class="markdownTableHeadNone">Data type   </th><th class="markdownTableHeadCenter">Param   </th><th class="markdownTableHeadRight">Data factor   </th><th class="markdownTableHeadRight">Data offset   </th><th class="markdownTableHeadRight">Data size   </th><th class="markdownTableHeadNone">Data range   </th><th class="markdownTableHeadNone">Data unit    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">pbLinDiagBuffer[32]   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyNone">uint8[]   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyRight">1   </td><td class="markdownTableBodyRight">0   </td><td class="markdownTableBodyRight">32   </td><td class="markdownTableBodyNone">[0,255]   </td><td class="markdownTableBodyNone">[-]   </td></tr>
</table>
<dl class="section warning"><dt>Warning</dt><dd>Buffer overrun must be prevented by all services writing into this array. </dd></dl>

<p class="definition">Definition at line <a class="el" href="diagnostic_8c_source.html#l00004">4</a> of file <a class="el" href="diagnostic_8c_source.html">diagnostic.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
